{"version":3,"names":["cov_1ktf0pjl7m","actualCoverage","FastMCP","z","logger","SvgRenderer","SvgDocumentProcessor","BasicShapeGenerator","ShapeCollections","SvgValidationError","SvgMcpServer","svgRenderer","documentProcessor","config","constructor","f","s","name","version","description","b","maxSvgSize","enableDebug","setLogLevel","setupTools","setupResources","addTool","parameters","object","document","viewBox","x","number","y","width","min","height","elements","array","any","optional","title","string","style","optimize","boolean","default","validate","execute","args","info","elementCount","length","spec","undefined","generateMetadata","result","processDocument","svg","size","processingTime","warnings","errors","content","type","text","JSON","stringify","metadata","processing","time","generated","Date","toISOString","stats","complexity","features","error","Error","message","validationResult","valid","compliance","accessibility","enum","describe","options","includeDocument","shape","createCircle","createRect","createLine","createText","createGroup","createPath","cx","cy","rx","ry","createEllipse","points","Array","isArray","createPolygon","outerRadius","innerRadius","createStar","boundingBox","calculateShapeBoundingBox","padding","charAt","toUpperCase","slice","processResult","shapeType","collection","shapeCollection","getCollection","shapes","shapeCount","health","status","timestamp","debugEnabled","renderer","capabilities","getCapabilities","processor","statistics","getProcessingStats","debug","addResource","uri","mimeType","load","svgGeneration","documentProcessing","validation","optimization","rfc7996Compliance","metadataGeneration","transforms","limits","supportedElements","getSupportedElements","schema","$schema","required","properties","minimum","items","$ref","definitions","SvgElement","oneOf","r","Math","x1","x2","y1","y2","abs","fontSize","textLength","start","stop"],"sources":["C:\\GitHub\\Svg-Mcp-Server\\src\\server\\SvgMcpServer.ts"],"sourcesContent":["/**\r\n * SVG MCP Server Implementation\r\n * \r\n * This is the main server class that extends FastMCP to provide\r\n * SVG generation capabilities through the Model Context Protocol.\r\n */\r\n\r\nimport { FastMCP } from 'fastmcp';\r\nimport { z } from 'zod';\r\nimport { logger } from '../utils/logger.js';\r\nimport { SvgRenderer } from '../core/SvgRenderer.js';\r\nimport { SvgDocumentProcessor, SvgDocumentSpec } from '../core/SvgDocumentProcessor.js';\r\nimport { BasicShapeGenerator, ShapeCollections } from '../core/shapes/index.js';\r\nimport { SvgValidationError } from '../types/svg.js';\r\n\r\nexport interface SvgMcpServerConfig {\r\n  name: string;\r\n  version: string;\r\n  description?: string;\r\n  maxSvgSize?: number;\r\n  enableDebug?: boolean;\r\n}\r\n\r\nexport class SvgMcpServer extends FastMCP {\r\n  private svgRenderer: SvgRenderer;\r\n  private documentProcessor: SvgDocumentProcessor;\r\n  private config: Required<SvgMcpServerConfig>;\r\n\r\n  constructor(config: SvgMcpServerConfig) {\r\n    super({\r\n      name: config.name,\r\n      version: config.version as `${number}.${number}.${number}`,\r\n    });\r\n\r\n    this.config = {\r\n      ...config,\r\n      description: config.description || 'SVG MCP Server',\r\n      maxSvgSize: config.maxSvgSize || 10000,\r\n      enableDebug: config.enableDebug || false,\r\n    };\r\n\r\n    this.svgRenderer = new SvgRenderer();\r\n    this.documentProcessor = new SvgDocumentProcessor();\r\n    \r\n    if (this.config.enableDebug) {\r\n      logger.setLogLevel('debug');\r\n    }\r\n\r\n    this.setupTools();\r\n    this.setupResources();\r\n  }\r\n\r\n  private setupTools(): void {\r\n    // Tool: Generate SVG\r\n    this.addTool({\r\n      name: 'generate_svg',\r\n      description: 'Generate an SVG document from a specification',\r\n      parameters: z.object({\r\n        document: z.object({\r\n          viewBox: z.object({\r\n            x: z.number(),\r\n            y: z.number(),\r\n            width: z.number().min(0),\r\n            height: z.number().min(0),\r\n          }),\r\n          elements: z.array(z.any()),\r\n          width: z.number().min(0).optional(),\r\n          height: z.number().min(0).optional(),\r\n          title: z.string().optional(),\r\n          description: z.string().optional(),\r\n          style: z.string().optional(),\r\n        }),\r\n        optimize: z.boolean().default(true),\r\n        validate: z.boolean().default(true),\r\n      }),\r\n      execute: async (args) => {\r\n        const { document, optimize = true, validate = true } = args;\r\n\r\n        try {\r\n          logger.info('Processing SVG document request', { \r\n            elementCount: document.elements?.length,\r\n            optimize, \r\n            validate \r\n          });\r\n\r\n          // Convert to document specification\r\n          const spec: SvgDocumentSpec = {\r\n            viewBox: document.viewBox,\r\n            elements: document.elements || [],\r\n            ...(document.width !== undefined && { width: document.width }),\r\n            ...(document.height !== undefined && { height: document.height }),\r\n            ...(document.title && { title: document.title }),\r\n            ...(document.description && { description: document.description }),\r\n            ...(document.style && { style: document.style }),\r\n            optimize,\r\n            validate,\r\n            generateMetadata: true,\r\n          };\r\n\r\n          // Process document using the document processor\r\n          const result = await this.documentProcessor.processDocument(spec);\r\n\r\n          // Check size limits\r\n          if (result.svg.length > this.config.maxSvgSize) {\r\n            throw new SvgValidationError(\r\n              `Generated SVG exceeds maximum size limit of ${this.config.maxSvgSize} characters`,\r\n              [`SVG size: ${result.svg.length}, limit: ${this.config.maxSvgSize}`]\r\n            );\r\n          }\r\n\r\n          logger.info('SVG document processed successfully', {\r\n            size: result.svg.length,\r\n            elementCount: result.document.elements.length,\r\n            processingTime: result.processingTime,\r\n            warnings: result.warnings.length,\r\n            errors: result.errors.length,\r\n          });\r\n\r\n          return {\r\n            content: [{\r\n              type: 'text',\r\n              text: JSON.stringify({\r\n                svg: result.svg,\r\n                document: result.document,\r\n                metadata: result.metadata,\r\n                processing: {\r\n                  time: result.processingTime,\r\n                  warnings: result.warnings,\r\n                  errors: result.errors,\r\n                  generated: new Date().toISOString(),\r\n                },\r\n                stats: {\r\n                  size: result.svg.length,\r\n                  elementCount: result.document.elements.length,\r\n                  complexity: result.metadata.complexity,\r\n                  features: result.metadata.features,\r\n                },\r\n              }, null, 2)\r\n            }]\r\n          };\r\n        } catch (error) {\r\n          logger.error('Failed to generate SVG', error);\r\n          \r\n          if (error instanceof SvgValidationError) {\r\n            throw error;\r\n          }\r\n          \r\n          throw new Error(`SVG generation failed: ${error instanceof Error ? error.message : 'Unknown error'}`);\r\n        }\r\n      }\r\n    });\r\n\r\n    // Tool: Validate SVG Document\r\n    this.addTool({\r\n      name: 'validate_svg_document',\r\n      description: 'Validate an SVG document specification',\r\n      parameters: z.object({\r\n        document: z.object({\r\n          viewBox: z.object({\r\n            x: z.number(),\r\n            y: z.number(),\r\n            width: z.number().min(0),\r\n            height: z.number().min(0),\r\n          }),\r\n          elements: z.array(z.any()),\r\n        }),\r\n      }),\r\n      execute: async (args) => {\r\n        const { document } = args;\r\n        try {\r\n          logger.info('Validating SVG document', { \r\n            elementCount: document.elements?.length \r\n          });\r\n          \r\n          // Convert to document specification for validation\r\n          const spec: SvgDocumentSpec = {\r\n            viewBox: document.viewBox,\r\n            elements: document.elements || [],\r\n            validate: true,\r\n            generateMetadata: true,\r\n          };\r\n\r\n          // Use document processor for comprehensive validation\r\n          const result = await this.documentProcessor.processDocument(spec);\r\n          \r\n          const validationResult = {\r\n            valid: result.errors.length === 0,\r\n            errors: result.errors,\r\n            warnings: result.warnings,\r\n            metadata: result.metadata,\r\n            processingTime: result.processingTime,\r\n            compliance: result.metadata.compliance,\r\n            accessibility: result.metadata.accessibility,\r\n            features: result.metadata.features,\r\n            complexity: result.metadata.complexity,\r\n          };\r\n          \r\n          logger.info('SVG document validation completed', {\r\n            valid: validationResult.valid,\r\n            errors: validationResult.errors.length,\r\n            warnings: validationResult.warnings.length,\r\n          });\r\n          \r\n          return {\r\n            content: [{\r\n              type: 'text',\r\n              text: JSON.stringify(validationResult, null, 2)\r\n            }]\r\n          };\r\n        } catch (error) {\r\n          logger.error('SVG document validation failed', error);\r\n          throw error;\r\n        }\r\n      }\r\n    });\r\n\r\n    // Tool: Create Shape\r\n    this.addTool({\r\n      name: 'create_shape',\r\n      description: 'Create individual SVG shapes using the shape generator',\r\n      parameters: z.object({\r\n        type: z.enum(['circle', 'rect', 'line', 'text', 'group', 'path', 'ellipse', 'polygon', 'star']).describe('Type of shape to create'),\r\n        options: z.any().describe('Shape-specific options object'),\r\n        includeDocument: z.boolean().default(false).describe('Whether to wrap the shape in a complete SVG document')\r\n      }),\r\n      execute: async (args) => {\r\n        const { type, options, includeDocument } = args;\r\n\r\n        try {\r\n          logger.info('Creating shape', { type, includeDocument });\r\n          \r\n          let shape;\r\n          \r\n          switch (type) {\r\n            case 'circle':\r\n              shape = BasicShapeGenerator.createCircle(options);\r\n              break;\r\n            case 'rect':\r\n              shape = BasicShapeGenerator.createRect(options);\r\n              break;\r\n            case 'line':\r\n              shape = BasicShapeGenerator.createLine(options);\r\n              break;\r\n            case 'text':\r\n              shape = BasicShapeGenerator.createText(options);\r\n              break;\r\n            case 'group':\r\n              shape = BasicShapeGenerator.createGroup(options);\r\n              break;\r\n            case 'path':\r\n              shape = BasicShapeGenerator.createPath(options);\r\n              break;\r\n            case 'ellipse':\r\n              if (!options.cx || !options.cy || !options.rx || !options.ry) {\r\n                throw new Error('Ellipse requires cx, cy, rx, and ry parameters');\r\n              }\r\n              shape = BasicShapeGenerator.createEllipse(options.cx, options.cy, options.rx, options.ry, options);\r\n              break;\r\n            case 'polygon':\r\n              if (!options.points || !Array.isArray(options.points)) {\r\n                throw new Error('Polygon requires points array parameter');\r\n              }\r\n              shape = BasicShapeGenerator.createPolygon(options.points, options);\r\n              break;\r\n            case 'star':\r\n              if (!options.cx || !options.cy || !options.outerRadius || !options.innerRadius || !options.points) {\r\n                throw new Error('Star requires cx, cy, outerRadius, innerRadius, and points parameters');\r\n              }\r\n              shape = BasicShapeGenerator.createStar(options.cx, options.cy, options.outerRadius, options.innerRadius, options.points, options);\r\n              break;\r\n            default:\r\n              throw new Error(`Unknown shape type: ${type}`);\r\n          }\r\n\r\n          let result = {\r\n            shape,\r\n            svg: null as string | null,\r\n            document: null as any\r\n          };\r\n\r\n          if (includeDocument) {\r\n            // Calculate appropriate viewBox based on shape\r\n            const boundingBox = this.calculateShapeBoundingBox(shape);\r\n            const padding = 10;\r\n            \r\n            const spec: SvgDocumentSpec = {\r\n              viewBox: {\r\n                x: boundingBox.x - padding,\r\n                y: boundingBox.y - padding,\r\n                width: boundingBox.width + 2 * padding,\r\n                height: boundingBox.height + 2 * padding\r\n              },\r\n              elements: [shape],\r\n              title: `${type.charAt(0).toUpperCase() + type.slice(1)} Shape`,\r\n              description: `Generated ${type} shape`\r\n            };\r\n\r\n            const processResult = await this.documentProcessor.processDocument(spec);\r\n            result.svg = processResult.svg;\r\n            result.document = processResult.document;\r\n          }\r\n\r\n          logger.info('Shape created successfully', { type, shapeType: shape.type });\r\n\r\n          return {\r\n            content: [{\r\n              type: 'text',\r\n              text: JSON.stringify(result, null, 2)\r\n            }]\r\n          };\r\n\r\n        } catch (error) {\r\n          logger.error('Shape creation failed', { error, type, options });\r\n          throw new Error(`Shape creation failed: ${error instanceof Error ? error.message : 'Unknown error'}`);\r\n        }\r\n      }\r\n    });\r\n\r\n    // Tool: Create Shape Collection\r\n    this.addTool({\r\n      name: 'create_shape_collection',\r\n      description: 'Create pre-defined collections of shapes for common use cases',\r\n      parameters: z.object({\r\n        collection: z.enum(['geometric', 'flowchart', 'arrows', 'stars', 'ui']).describe('Type of shape collection to create'),\r\n        options: z.any().optional().describe('Optional styling options to apply to all shapes'),\r\n        includeDocument: z.boolean().default(true).describe('Whether to wrap the collection in a complete SVG document')\r\n      }),\r\n      execute: async (args) => {\r\n        const { collection, options, includeDocument } = args;\r\n\r\n        try {\r\n          logger.info('Creating shape collection', { collection, includeDocument });\r\n          \r\n          const shapeCollection = ShapeCollections.getCollection(collection, options);\r\n          \r\n          if (!shapeCollection) {\r\n            throw new Error(`Unknown collection type: ${collection}`);\r\n          }\r\n\r\n          let result = {\r\n            collection: shapeCollection,\r\n            svg: null as string | null,\r\n            document: null as any\r\n          };\r\n\r\n          if (includeDocument) {\r\n            const spec: SvgDocumentSpec = {\r\n              viewBox: {\r\n                x: shapeCollection.boundingBox.x - 10,\r\n                y: shapeCollection.boundingBox.y - 10,\r\n                width: shapeCollection.boundingBox.width + 20,\r\n                height: shapeCollection.boundingBox.height + 20\r\n              },\r\n              elements: shapeCollection.shapes,\r\n              title: shapeCollection.name,\r\n              description: shapeCollection.description\r\n            };\r\n\r\n            const processResult = await this.documentProcessor.processDocument(spec);\r\n            result.svg = processResult.svg;\r\n            result.document = processResult.document;\r\n          }\r\n\r\n          logger.info('Shape collection created successfully', { \r\n            collection, \r\n            shapeCount: shapeCollection.shapes.length \r\n          });\r\n\r\n          return {\r\n            content: [{\r\n              type: 'text',\r\n              text: JSON.stringify(result, null, 2)\r\n            }]\r\n          };\r\n\r\n        } catch (error) {\r\n          logger.error('Shape collection creation failed', { error, collection, options });\r\n          throw new Error(`Shape collection creation failed: ${error instanceof Error ? error.message : 'Unknown error'}`);\r\n        }\r\n      }\r\n    });\r\n\r\n    // Tool: Health Check\r\n    this.addTool({\r\n      name: 'health_check',\r\n      description: 'Check the health and status of the SVG MCP server',\r\n      execute: async () => {\r\n        const health = {\r\n          status: 'healthy',\r\n          timestamp: new Date().toISOString(),\r\n          version: this.config.version,\r\n          config: {\r\n            maxSvgSize: this.config.maxSvgSize,\r\n            debugEnabled: this.config.enableDebug,\r\n          },\r\n          renderer: {\r\n            status: 'operational',\r\n            capabilities: this.svgRenderer.getCapabilities(),\r\n          },\r\n          processor: {\r\n            status: 'operational',\r\n            statistics: this.documentProcessor.getProcessingStats(),\r\n          },\r\n        };\r\n\r\n        logger.debug('Health check performed', health);\r\n        return {\r\n          content: [{\r\n            type: 'text',\r\n            text: JSON.stringify(health, null, 2)\r\n          }]\r\n        };\r\n      }\r\n    });\r\n  }\r\n\r\n  private setupResources(): void {\r\n    // Resource: Server Information\r\n    this.addResource({\r\n      uri: 'server://info',\r\n      name: 'Server Information',\r\n      description: 'Information about the SVG MCP server',\r\n      mimeType: 'application/json',\r\n      load: async () => {\r\n        const info = {\r\n          name: this.config.name,\r\n          version: this.config.version,\r\n          description: this.config.description,\r\n          capabilities: {\r\n            svgGeneration: true,\r\n            documentProcessing: true,\r\n            validation: true,\r\n            optimization: true,\r\n            accessibility: true,\r\n            rfc7996Compliance: true,\r\n            metadataGeneration: true,\r\n            transforms: ['scale', 'translate', 'normalize', 'accessibility'],\r\n          },\r\n          limits: {\r\n            maxSvgSize: this.config.maxSvgSize,\r\n          },\r\n          supportedElements: this.svgRenderer.getSupportedElements(),\r\n          processor: {\r\n            statistics: this.documentProcessor.getProcessingStats(),\r\n            features: [\r\n              'document_validation',\r\n              'element_relationship_analysis',\r\n              'compliance_checking',\r\n              'optimization',\r\n              'metadata_generation',\r\n              'accessibility_enhancement',\r\n            ],\r\n          },\r\n        };\r\n\r\n        logger.debug('Server info requested', info);\r\n        return {\r\n          text: JSON.stringify(info, null, 2),\r\n          mimeType: 'application/json',\r\n          uri: 'server://info'\r\n        };\r\n      }\r\n    });\r\n\r\n    // Resource: SVG Schema\r\n    this.addResource({\r\n      uri: 'schema://svg-document',\r\n      name: 'SVG Document Schema',\r\n      description: 'JSON schema for SVG document structure',\r\n      mimeType: 'application/json',\r\n      load: async () => {\r\n        const schema = {\r\n          $schema: 'http://json-schema.org/draft-07/schema#',\r\n          title: 'SVG Document',\r\n          description: 'Schema for SVG document specification',\r\n          type: 'object',\r\n          required: ['viewBox', 'elements'],\r\n          properties: {\r\n            viewBox: {\r\n              type: 'object',\r\n              required: ['x', 'y', 'width', 'height'],\r\n              properties: {\r\n                x: { type: 'number' },\r\n                y: { type: 'number' },\r\n                width: { type: 'number', minimum: 0 },\r\n                height: { type: 'number', minimum: 0 },\r\n              },\r\n            },\r\n            elements: {\r\n              type: 'array',\r\n              items: { $ref: '#/definitions/SvgElement' },\r\n            },\r\n            // Additional properties would be defined here\r\n          },\r\n          definitions: {\r\n            SvgElement: {\r\n              oneOf: [\r\n                { $ref: '#/definitions/CircleElement' },\r\n                { $ref: '#/definitions/RectElement' },\r\n                { $ref: '#/definitions/LineElement' },\r\n                { $ref: '#/definitions/PathElement' },\r\n                { $ref: '#/definitions/TextElement' },\r\n                { $ref: '#/definitions/GroupElement' },\r\n              ],\r\n            },\r\n            // Element definitions would be expanded here\r\n          },\r\n        };\r\n\r\n        return {\r\n          text: JSON.stringify(schema, null, 2),\r\n          mimeType: 'application/json',\r\n          uri: 'schema://svg-document'\r\n        };\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Calculate bounding box for a shape element\r\n   */\r\n  private calculateShapeBoundingBox(shape: any): { x: number; y: number; width: number; height: number } {\r\n    switch (shape.type) {\r\n      case 'circle':\r\n        return {\r\n          x: shape.cx - shape.r,\r\n          y: shape.cy - shape.r,\r\n          width: shape.r * 2,\r\n          height: shape.r * 2\r\n        };\r\n      case 'rect':\r\n        return {\r\n          x: shape.x,\r\n          y: shape.y,\r\n          width: shape.width,\r\n          height: shape.height\r\n        };\r\n      case 'line':\r\n        return {\r\n          x: Math.min(shape.x1, shape.x2),\r\n          y: Math.min(shape.y1, shape.y2),\r\n          width: Math.abs(shape.x2 - shape.x1),\r\n          height: Math.abs(shape.y2 - shape.y1)\r\n        };\r\n      case 'text':\r\n        // Estimate text bounding box\r\n        const fontSize = shape['font-size'] || 16;\r\n        const textLength = shape.content.length;\r\n        return {\r\n          x: shape.x,\r\n          y: shape.y - fontSize,\r\n          width: textLength * fontSize * 0.6, // Rough estimate\r\n          height: fontSize\r\n        };\r\n      default:\r\n        // Default bounding box for unknown shapes\r\n        return { x: 0, y: 0, width: 100, height: 100 };\r\n    }\r\n  }\r\n\r\n  async start(): Promise<void> {\r\n    logger.info('Starting SVG MCP Server', {\r\n      name: this.config.name,\r\n      version: this.config.version,\r\n    });\r\n\r\n    await super.start();\r\n    \r\n    logger.info('SVG MCP Server started successfully');\r\n  }\r\n\r\n  async stop(): Promise<void> {\r\n    logger.info('Stopping SVG MCP Server');\r\n    // Cleanup logic would go here\r\n    logger.info('SVG MCP Server stopped');\r\n  }\r\n}\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}